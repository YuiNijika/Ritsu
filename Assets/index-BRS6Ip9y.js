import{a as z}from"./index-Dq7h7Pqt.js";import{_ as L,C as S}from"./index-bCl628V9.js";import{n as r,g as B,Y as l,r as a,o as s,Z as o,c as D,F as N,_ as $,a as c,L as d,$ as m,a0 as w,u as F}from"./vue-vendor-CJLHb3Yq.js";const V="http://typecho.localhost:81/ty-json",I={__name:"index",setup(R){const f=V,i=r(!1),_=r([]);r(null);const n=r({current:1,pageSize:5,total:0,onChange:t=>{n.value.current=t,p()}}),g=t=>new Date(t).toLocaleDateString("zh-CN"),p=async()=>{try{i.value=!0;const t=await z.get(`${f}/posts`,{params:{page:n.value.current,pageSize:n.value.pageSize}});t.data.code===200&&(_.value=t.data.data,n.value.total=t.data.meta.pagination.total)}catch(t){console.error("Failed to fetch articles:",t)}finally{i.value=!1}};return B(()=>{p()}),(t,U)=>{const v=a("a-skeleton"),u=a("router-link"),y=a("a-list-item-meta"),h=a("a-list-item"),k=a("a-list"),x=a("a-empty"),C=a("a-card");return s(),l(C,null,{default:o(()=>[i.value?(s(),D(N,{key:0},$(3,e=>c(v,{active:""})),64)):_.value.length>0?(s(),l(k,{key:1,"item-layout":"vertical",size:"large",pagination:n.value,"data-source":_.value},{renderItem:o(({item:e})=>[c(u,{to:`/article/${e.cid}`},{default:o(()=>[(s(),l(h,{key:e.cid},{actions:o(()=>[w("span",null,[c(F(S)),d(" "+m(g(e.created)),1)])]),default:o(()=>[c(y,{description:e.excerpt},{title:o(()=>[c(u,{to:`/article/${e.cid}`},{default:o(()=>[d(m(e.title),1)]),_:2},1032,["to"])]),_:2},1032,["description"])]),_:2},1024))]),_:2},1032,["to"])]),_:1},8,["pagination","data-source"])):(s(),l(x,{key:2,description:"没有数据"}))]),_:1})}}},M=L(I,[["__scopeId","data-v-ac538a21"]]);export{M as default};
